<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="QuranIQ">
    <meta name="theme-color" content="#0E3B2E">
    <meta name="msapplication-TileColor" content="#0E3B2E">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <title>Intelligent Wisdom</title>
    <meta name="description" content="An intelligent, interactive companion for exploring the Quran.">
    <meta name="keywords" content="Quran, Islam, AI, Wisdom">
    <link rel="icon" href="https://app.trickle.so/storage/public/images/usr_19c684eaa8000001/2a234d6e-1c33-459a-b89f-c1a196d1be38.png">
    
    <script src="https://resource.trickle.so/vendor_lib/unpkg/react@18/umd/react.production.min.js"></script>
    <script src="https://resource.trickle.so/vendor_lib/unpkg/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://resource.trickle.so/vendor_lib/unpkg/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://resource.trickle.so/vendor_lib/unpkg/lucide-static@0.516.0/font/lucide.css" rel="stylesheet">
    
    <!-- Fonts: Crimson Pro for reading, Amiri for Arabic, Outfit for UI/Brand (Alibaba Sans alternative) -->
    <link rel="preconnect" href="https://fonts.googleapis.com/css2">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,400&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style type="text/tailwindcss">
    @layer theme {
        :root {
            --paper-bg: #F7F5F0; /* Off-white / Parchment */
            --paper-surface: #FFFFFF; /* Secondary surfaces */
            --ink-color: #1A1A1A; /* Primary text */
            --ink-secondary: #5F6B66; /* Secondary text */
            --primary-accent: #4B6F52; /* Darker Sage for text/contrast */
            --secondary-accent: #a0caa6; /* User's Sage Green */
            --gold-accent: #C2B280; /* Muted Sand/Gold to match Sage */
            
            --font-body: 'Crimson Pro', serif;
            --font-ui: 'Outfit', sans-serif;
            --font-brand: 'Outfit', sans-serif;
            --font-arabic: 'Amiri', serif;
        }
    }

    @layer base {
        body {
            font-family: var(--font-body);
            background-color: var(--paper-bg);
            /* Removed heavy texture for cleaner "Sacred Minimalism" look, or keep very subtle if needed */
            color: var(--ink-color);
            -webkit-font-smoothing: antialiased;
        }
        h1, h2, h3, h4, h5, h6, button, input {
            font-family: var(--font-ui);
        }
    }

    @layer components {
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom);
        }
        .card-surface {
            @apply bg-[var(--paper-surface)] rounded-[16px] shadow-sm border border-stone-100;
        }
        .btn-primary {
            @apply bg-[var(--primary-accent)] text-white rounded-[12px] font-medium hover:bg-[var(--secondary-accent)] hover:text-[var(--primary-accent)] transition-colors shadow-sm;
        }
        .btn-secondary {
            @apply bg-transparent border border-[var(--primary-accent)] text-[var(--primary-accent)] rounded-[12px] font-medium hover:bg-[var(--secondary-accent)]/20 transition-colors;
        }
        .nav-glass {
            @apply bg-white/95 backdrop-blur-md border-t border-stone-100 z-40;
        }
        .prose-content {
            @apply text-xl leading-9 text-[var(--ink-color)] font-serif max-w-2xl mx-auto px-6 md:px-8;
        }
        .prose-content p {
            @apply mb-8;
        }
        .prose-content strong {
            @apply font-bold text-[var(--primary-accent)];
        }
        .quran-verse {
            @apply font-arabic text-3xl leading-[2.5] text-right dir-rtl my-10 text-[var(--primary-accent)];
        }
        .font-arabic {
            font-feature-settings: "calt" 1, "kern" 1, "liga" 1;
            text-rendering: optimizeLegibility;
        }
        .nav-glass {
            @apply bg-white/90 backdrop-blur-md border-t border-stone-100 z-40;
        }
        .heading-hero { @apply font-ui font-bold text-5xl md:text-6xl; }
        .heading-1 { @apply font-ui font-bold text-3xl md:text-4xl; }
        .heading-2 { @apply font-ui font-bold text-2xl md:text-3xl; }
        .heading-3 { @apply font-ui font-bold text-xl md:text-2xl; }
    }
    
    /* Elegant Scrollbar */
    ::-webkit-scrollbar {
        width: 6px;
    }
    ::-webkit-scrollbar-track {
        background: transparent;
    }
    ::-webkit-scrollbar-thumb {
        background: #E5E7EB;
        border-radius: 10px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: #D1D5DB;
    }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel" src="utils/config.js"></script>
    <script type="text/babel" src="utils/api-client.js"></script>
    <script type="text/babel" src="components/Logo.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="/utils/firebase.js"></script>
    <script type="text/babel" src="app.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('serviceWorker.js')
            .then(registration => {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(err => {
              console.log('ServiceWorker registration failed: ', err);
            });
        });
      }
    </script>
</body>
</html>
